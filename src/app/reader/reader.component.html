<section class="pages" #pages>
  <viewer #page *ngFor="let p of book?.meta?.Pages; let i = index;"
          [hidden]="config.isContinuousScroll()? false: i+1!==book.current"
          [height]="p | pageHeight:[pages,scale]"
          [id]="'page-'+(i+1)"
          [class]="i"
          [page]="i+1"
          [cache]="inCacheRange(i+1)"
          [path]="book.getPageFilePath(p.Id)"
          [meta]="p"
          (attention)="book.updateCurrent(i+1)"
          (click)="book.next(i+1, true)">
  </viewer>
  <!--[cache]="inCacheRange(i+1)"-->
  <!--[hidden]="i!==book?.current-1"-->
</section>
<section class="layer">
  <section class="panel progress" *ngIf="book?.total">
    {{book?.current}} / {{book?.total}}
  </section>
</section>
